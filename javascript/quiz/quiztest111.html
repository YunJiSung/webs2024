<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사자성어 만들기</title>
    
    <link rel="stylesheet" href="assets/css/quiztest.css">
</head>
<body>
</body>
</head>
<body>
    <header id="header">
        <h1>
        </h1>
        <nav>
        </nav>
    </header>
    <!-- //header -->
    <main id="main">
        <div class="quiz__wrap">
            <div class="quiz">
                <div class="quiz__header"></div>
            </div>
        </div>
        <div class="quiz__question"></div>
    </main>
    <!-- //main -->
    <footer id="footer">
    </footer>
    <!-- //footer -->
    <script>
        // 선택자
        const quizWrap = document.querySelector(".quiz__wrap");
         // 문제 정보
         const quizInfo = [
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "일석이조(一石二鳥)의 뜻은?",
                infoChoice : ["동시에 두 가지 이득을 봄","간사한 꾀를 써서 남을 속임","두 마음을 하나로 합쳐 한마음이 됨"],
                infoAnswer : "1",
                infoDesc : "동시에 두 가지 이득을 봄"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "앙천대소(仰天大笑)의 뜻은?",
                infoChoice : ["너무도 기뻐서 소리치며 날뜀","배를 안고 몸을 가누지 못할 만큼 웃음","하늘을 쳐다보고 크게 웃음"],
                infoAnswer : "3",
                infoDesc : "하늘을 쳐다보고 크게 웃음"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "천의무봉(天衣無縫)의 뜻은?",
                infoChoice : ["뜻밖의 선물을 받아 기쁨","완전무결하여 흠이 없음","선녀가 속계를 그리워함"],
                infoAnswer : "2",
                infoDesc : "완전무결하여 흠이 없음을 이르는 말"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "감언지지(敢言之地)의 뜻은?",
                infoChoice : ["거리낌 없이 큰 소리로 하는 말","거리낌 없이 말할 만한 자리나 처지","말이나 행동을 거리낌 없이 함부로 하는 태도"],
                infoAnswer : "2",
                infoDesc : "거리낌 없이 말할 만한 자리나 처지"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "군자삼락(君子三樂)의 뜻은?",
                infoChoice : ["군자가 되기 위한 세 가지 법칙","군자를 받드는 세 가지 이유","군자의 세 가지 즐거움"],
                infoAnswer : "3",
                infoDesc : "군자의 세 가지 즐거움"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "수주대토(守株待兔)의 뜻은?",
                infoChoice : ["한 가지 일에만 얽매여 발전을 모르는 어리석은 사람","간사한 꾀를 써서 남을 속임","두 마음을 하나로 합쳐 한마음이 됨"],
                infoAnswer : "1",
                infoDesc : "한 가지 일에만 얽매여 발전을 모르는 어리석은 사람"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "무소불위(無所不爲)의 뜻은?",
                infoChoice : ["하지 못하는 일이 없음","새끼를 낳지 못하는 소","헤어나지 못하는 어려운 상태"],
                infoAnswer : "1",
                infoDesc : "하지 못하는 일이 없음"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "낭중지추(囊中之錐)의 뜻은?",
                infoChoice : ["재능이 뛰어난 사람은 저절로 사람들에게 알려짐","보통 사람이 하기 어려운 일을 해내는 사람","뛰어난 학식이나 재능을 비유적으로 이르는 말"],
                infoAnswer : "1",
                infoDesc : "재능이 뛰어난 사람은 숨어 있어도 저절로 사람들에게 알려짐을 이르는 말"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "수신제가(修身齊家)의 뜻은?",
                infoChoice : ["마음을 가다듬어 고요하게 정신을 수양함","집안을 다스리고 자손을 가르침","몸과 마음을 닦아 수양하고 집안을 다스림"],
                infoAnswer : "3",
                infoDesc : "몸과 마음을 닦아 수양하고 집안을 다스림"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "일망타진(一網打盡)의 뜻은?",
                infoChoice : ["근본을 빼내고 원천을 막아 버림","어떤 무리를 한꺼번에 모조리 다 잡음","주된 일이 되면 다른 일도 그에 따라서 이루어짐"],
                infoAnswer : "2",
                infoDesc : "어떤 무리를 한꺼번에 모조리 다 잡음"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "경천동지(驚天動地)의 뜻은?",
                infoChoice : ["뜻밖의 일로 깜짝 놀람","거짓으로 놀라는 체함","세상을 몹시 놀라게 함"],
                infoAnswer : "3",
                infoDesc : "세상을 몹시 놀라게 함을 비유적으로 이르는 말"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "동심협력(同心協力)의 뜻은?",
                infoChoice : ["기개가 높고 위엄에 찬 영웅의 태도","남을 해하려는 뜻이 담긴 말","뜻이 높고 바르며 엄숙하고 날카로운 말"],
                infoAnswer : "3",
                infoDesc : "뜻이 높고 바르며 엄숙하고 날카로운 말"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "우유부단(優柔不斷)의 뜻은?",
                infoChoice : ["힘을 합하여 서로 도움","서로 사랑하며 도움","마음을 같이하여 서로 도움"],
                infoAnswer : "1",
                infoDesc : "마음을 같이하여 서로 도움"
            },
            {
                infoDate : "",
                infoType : "사자성어",
                infoQuestion : "눌언민행(訥言敏行)의 뜻은?",
                infoChoice : ["매우 느리게 말을 하거나 글을 읽는 모양","말은 느려도 실제 행동은 재빠르고 능란함","말을 재치 있고 능란하게 구사하는 능력"],
                infoAnswer : "2",
                infoDesc : "말은 느려도 실제 행동은 재빠르고 능란함"
            },


            
        ];
        let currentIndex = 0;   // 현재 문제 변수 값
        // 문제 출력
        const updataQuiz = (index) => {
            let quizWrapTag = `
                <div class="quiz">
                    <div class="quiz__header">${quizInfo[index].infoDate} ${quizInfo[index].infoType}</div>
                    <div class="quiz__main">
                        <div class="quiz__question">
                            ${index+1}. ${quizInfo[index].infoQuestion}
                        </div>
                        <div class="quiz__choice">
                            <label for="choice1">
                                <input type="radio" id="choice1" name="choice" value="1">
                                <span>${quizInfo[index].infoChoice[0]}</span>
                            </label>
                            <label for="choice2">
                                <input type="radio" id="choice2" name="choice" value="2">
                                <span>${quizInfo[index].infoChoice[1]}</span>
                            </label>
                            <label for="choice3">
                                <input type="radio" id="choice3" name="choice" value="3">
                                <span>${quizInfo[index].infoChoice[2]}</span>
                            </label>
                        </div>
                        <div class="quiz__answer none">${quizInfo[index].infoAnswer}</div>
                        <div class="quiz__desc none">${quizInfo[index].infoDesc}</div>
                    </div>
                    <div class="quiz__footer">
                        <button class="quiz__confirm">정답 확인하기</button>
                        <button class="quiz__next none">다음 문제</button>
                    </div>
                </div>
            `;
            quizWrap.innerHTML = quizWrapTag;
              // 선택자
              const quizConfirm = quizWrap.querySelector(".quiz__confirm");
                    const quizNext = quizWrap.querySelector(".quiz__next");
                    
                    // 정답 확인 버튼
                    quizConfirm.addEventListener("click", () => {
                        checkAnswer();
                        quizConfirm.classList.add("none");   // 정답 버튼 삭제
                        quizNext.classList.remove("none");   // 다음 버튼 추가
                    });

                    // 다음 문제 버튼
                    quizNext.addEventListener("click", () => {
                        if(currentIndex < quizInfo.length -1){
                            quizNext.classList.add("none");         // 다음 버튼 삭제
                            quizConfirm.classList.remove("none");   // 정답 버튼 추가
                            currentIndex++;                         // 문제 번호 추가
                        updataQuiz(currentIndex);                   //퀴즈 반영
                        }else {
                            alert("퀴즈가 종료되었습니다.");
                        }
                    });
                };

                // 정답 확인
                const checkAnswer = () => {
                    const selectedChoice = quizWrap.querySelector("input[name='choice']:checked");
                    
                    if(!selectedChoice){
                        alert("답을 선택해주세요");
                    };
                    
                    const userAnswer = selectedChoice.value;                    // 사용자가 클릭한 정답
                    const corrcetAnswer = quizInfo[currentIndex].infoAnswer;   //정답지의 정답
                    const quizElement = quizWrap.querySelector(".quiz");
                    const descElement = quizWrap.querySelector(".quiz__desc");
                    const answerElement = quizWrap.querySelector(".quiz__answer");
                    if(userAnswer === corrcetAnswer){
                        quizElement.classList.add("good");
                        descElement.classList.remove("none");
                    } else {
                        quizElement.classList.add("bad");
                        answerElement.classList.remove("none");
                        descElement.classList.remove("none");
                    }
                    descElement.classList.remove("none");
                };
                // 페이지가 로드된 후 실행
                document.addEventListener("DOMContentLoaded", () => {
                    updataQuiz(currentIndex);
                });
    </script>
</body>
</html>